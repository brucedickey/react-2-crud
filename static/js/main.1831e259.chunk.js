(this["webpackJsonpreact-2-crud"]=this["webpackJsonpreact-2-crud"]||[]).push([[0],{39:function(e,t,n){},43:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),s=n(15),i=n.n(s),r=(n(39),n(9)),o=n(32),l=function(e,t,n){return""===e.trim()?(alert("Please enter your first name."),document.getElementById("add-first-name").focus(),!1):""===t.trim()?(alert("Please enter your last name."),document.getElementById("add-last-name").focus(),!1):""===n.trim()?(alert("Please enter your email address."),document.getElementById("add-email").focus(),!1):!(""!==n.trim()&&!/^[A-Z0-9._%+-]+@([A-Z0-9-]+\.)+[A-Z]{2,20}$/i.test(n))||(alert("Please enter a valid email address."),document.getElementById("add-email").focus(),!1)},d="https://www.mecallapi.com/users/cat.png",j=function(e,t,n,a){fetch("https://www.mecallapi.com/api/users/"+"".concat(e)).then((function(e){if(!e.ok)throw e;return e.json()})).then((function(e){"error"===e.status&&n("".concat(e.message)),t(e.user)})).catch((function(e){a("".concat(e.status,"; ").concat(e.statusText))}))},u=function(e,t,n,a,c,s,i){var r={id:a,fname:e,lname:t,username:n,email:n,avatar:d},o={method:"PUT",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}};fetch("https://www.mecallapi.com/api/users/update",o).then((function(e){if(!e.ok)throw e;return e.json()})).then((function(e){"error"===e.status&&s("".concat(e.message)),c()})).catch((function(e){i("".concat(e.status,"; ").concat(e.statusText))}))},m=function(e,t,n,a){var c={id:e},s={method:"DELETE",body:JSON.stringify(c),headers:{"Content-Type":"application/json"}};fetch("https://www.mecallapi.com/api/users/delete",s).then((function(e){if(!e.ok)throw e;return e.json()})).then((function(e){"error"===e.status&&n("".concat(e.message)),t()})).catch((function(e){a("".concat(e.status,"; ").concat(e.statusText))}))},h=n(33),b=n(1),O=function(e){return Object(b.jsx)(b.Fragment,{children:e.message&&Object(b.jsx)(h.a,{variant:e.variant,children:e.message})})},f=n(30),p=n(8),x=n(6),g=(n(20),n(43),function(e){return Object(b.jsxs)(x.a,{show:e.show,onHide:e.onCancel,animation:!1,children:[Object(b.jsx)(x.a.Header,{closeButton:!0,closeLabel:"",children:Object(b.jsx)(x.a.Title,{children:"Profile"})}),Object(b.jsxs)(x.a.Body,{children:[Object(b.jsxs)(f.a,{className:"id-badge",children:[" ID: ",e.person.id," "]}),Object(b.jsx)("img",{src:e.person.avatar,className:"profile-image",alt:"Profile"}),Object(b.jsxs)("div",{className:"text-center person-details",children:[Object(b.jsxs)("p",{className:"person-name",children:[e.person.fname," ",e.person.lname]}),Object(b.jsx)("p",{children:e.person.username})]})]}),Object(b.jsx)(x.a.Footer,{children:Object(b.jsx)(p.a,{variant:"primary",onClick:e.onCancel,children:"Close"})})]})}),v=(n(45),function(e){return Object(b.jsxs)(x.a,{show:e.show,onHide:e.onCancel,animation:!1,children:[Object(b.jsx)(x.a.Header,{closeButton:!0,closeLabel:"",children:Object(b.jsx)(x.a.Title,{children:"Update person"})}),Object(b.jsx)(x.a.Body,{children:Object(b.jsxs)("form",{children:[Object(b.jsxs)("div",{className:"mb-3",children:[Object(b.jsx)("label",{htmlFor:"add-first-name",className:"form-label",children:"First Name"}),Object(b.jsx)("input",{type:"text",className:"form-control",id:"update-first-name",defaultValue:e.person.fname})]}),Object(b.jsxs)("div",{className:"mb-3",children:[Object(b.jsx)("label",{htmlFor:"add-last-name",className:"form-label",children:"Last name"}),Object(b.jsx)("input",{type:"text",className:"form-control",id:"update-last-name",defaultValue:e.person.lname})]}),Object(b.jsxs)("div",{className:"mb-3",children:[Object(b.jsx)("label",{htmlFor:"add-email",className:"form-label",children:"Email address"}),Object(b.jsx)("input",{type:"email",className:"form-control",id:"update-email",defaultValue:e.person.username})]})]})}),Object(b.jsxs)(x.a.Footer,{children:[Object(b.jsx)(p.a,{variant:"secondary",onClick:e.onCancel,children:"Cancel"}),Object(b.jsx)(p.a,{variant:"primary",onClick:function(){e.onSubmit(e.person.id)},children:"Update person"})]})]})}),w=(n(46),function(e){return Object(b.jsxs)(x.a,{show:e.show,onHide:e.onCancel,animation:!1,children:[Object(b.jsx)(x.a.Header,{closeButton:!0,closeLabel:"",children:Object(b.jsx)(x.a.Title,{children:"Delete person"})}),Object(b.jsx)(x.a.Body,{children:Object(b.jsxs)("p",{children:["Confirm that you want to delete ",e.person.fname," ",e.person.lname,". "]})}),Object(b.jsxs)(x.a.Footer,{children:[Object(b.jsx)(p.a,{variant:"secondary",onClick:e.onCancel,children:"Cancel"}),Object(b.jsx)(p.a,{variant:"primary",onClick:function(){e.onSubmit(e.person.id)},children:"Delete person"})]})]})}),y=n.p+"static/media/surprised-chipmunk.2ceca5f5.png",N=(n(47),function(){return Object(b.jsx)("header",{children:Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"col-12",children:Object(b.jsxs)("div",{className:"header-content",children:[Object(b.jsx)("img",{id:"title-icon",src:y,alt:"App icon"}),Object(b.jsx)("span",{id:"title",children:"React 2 CRUD"})]})})})})}),E=(n(48),n(49),n(59)),C=function(){return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:"api-warnings",children:[Object(b.jsxs)("div",{className:"title-row",children:[Object(b.jsx)("div",{className:"warning-icon-container",children:Object(b.jsx)(E.a,{className:"warning-icon"})}),Object(b.jsx)("span",{className:"warning-title",children:"The mecallapi.com third-party API service:"})]}),Object(b.jsxs)("ul",{children:[Object(b.jsx)("li",{children:"Does not allow you to delete or update the first ten people."}),Object(b.jsx)("li",{children:"Resets the people list every ten minutes."}),Object(b.jsx)("li",{children:"Does not provide a token; all users share data."}),Object(b.jsx)("li",{children:"Does not ensure unique IDs."})]})]})})},T=(n(50),function(){return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("div",{className:"copyright",children:"Copyright 2021, React 2 CRUD, Inc., All Rights Reserved."})})}),D=function(){return Object(b.jsxs)("div",{className:"footer",children:[Object(b.jsx)(C,{}),Object(b.jsx)(T,{})]})},P=n(25),S=n(24),F=function(e,t,n,a,c,s){var i={fname:e,lname:t,username:n,email:n,avatar:d},r={method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json"}};fetch("https://www.mecallapi.com/api/users/create",r).then((function(e){if(!e.ok)throw e;return e.json()})).then((function(e){"error"===e.status&&c("".concat(e.message)),a()})).catch((function(e){s("".concat(e.status,"; ").concat(e.statusText))}))},M=(n(51),function(e){return Object(b.jsxs)(x.a,{show:e.show,onHide:e.onCancel,animation:!1,children:[Object(b.jsx)(x.a.Header,{closeButton:!0,closeLabel:"",children:Object(b.jsx)(x.a.Title,{children:"Add a person"})}),Object(b.jsx)(x.a.Body,{children:Object(b.jsxs)("form",{children:[Object(b.jsxs)("div",{className:"mb-3",children:[Object(b.jsx)("label",{htmlFor:"add-first-name",className:"form-label",children:"First Name"}),Object(b.jsx)("input",{type:"text",className:"form-control",id:"add-first-name"})]}),Object(b.jsxs)("div",{className:"mb-3",children:[Object(b.jsx)("label",{htmlFor:"add-last-name",className:"form-label",children:"Last name"}),Object(b.jsx)("input",{type:"text",className:"form-control",id:"add-last-name"})]}),Object(b.jsxs)("div",{className:"mb-3",children:[Object(b.jsx)("label",{htmlFor:"add-email",className:"form-label",children:"Email address"}),Object(b.jsx)("input",{type:"email",className:"form-control",id:"add-email"})]})]})}),Object(b.jsxs)(x.a.Footer,{children:[Object(b.jsx)(p.a,{variant:"secondary",onClick:e.onCancel,children:"Cancel"}),Object(b.jsx)(p.a,{variant:"primary",onClick:e.onSubmit,children:"Add person"})]})]})}),A=(n(52),function(e){var t=Object(a.useState)(!1),n=Object(r.a)(t,2),c=n[0],s=n[1],i=function(){document.getElementById("add-first-name").value="",document.getElementById("add-last-name").value="",document.getElementById("add-email").value="",s(!1)},o=function(){e.refreshTable()},d=function(t){e.setAlertMsgVariant("warning"),e.setAlertMsg("DELETE PERSON -- ".concat(t,"."))},j=function(t){e.setAlertMsg("ADD PERSON -- Error ".concat(t,"; please try again later.")),e.setAlertMsgVariant("danger")};return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(S.a,{id:"people-header-row",children:Object(b.jsxs)(P.a,{children:[Object(b.jsx)("div",{className:"content-title",children:"People"}),Object(b.jsx)(p.a,{variant:"primary",id:"add-btn",onClick:function(){e.setAlertMsg(""),s(!0)},children:"Add a person"})]})}),Object(b.jsx)(O,{message:e.alertMsg,variant:e.alertMsgVariant}),Object(b.jsx)(M,{show:c,onCancel:i,onSubmit:function(){var e=document.getElementById("add-first-name").value,t=document.getElementById("add-last-name").value,n=document.getElementById("add-email").value;if(!l(e,t,n))return!1;i(),F(e,t,n,o,d,j)}})]})}),B=n(31),I=n(60),k=n(61),R=n(62),L=(n(53),function(e){var t=e.person;return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:t.id}),Object(b.jsx)("td",{children:t.fname}),Object(b.jsx)("td",{children:t.lname}),Object(b.jsx)("td",{children:t.username}),Object(b.jsxs)("td",{children:[Object(b.jsxs)(p.a,{variant:"primary",className:"action-btn",title:"Display profile",onClick:function(){e.showProfileModal(t)},children:[Object(b.jsx)(I.a,{}),"         "]}),Object(b.jsx)(p.a,{variant:"primary",className:"action-btn",title:"Update profile",onClick:function(){e.showUpdateModal(t)},children:Object(b.jsx)(k.a,{})}),Object(b.jsxs)(p.a,{variant:"danger",className:"action-btn",title:"Delete",onClick:function(){e.showDeleteModal(t)},children:[Object(b.jsx)(R.a,{}),"   "]})]})]})}),U=function(e,t){fetch("https://www.mecallapi.com/api/users",{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){if(!e.ok)throw e;return e.json()})).then((function(t){e(t)})).catch((function(e){t("".concat(e.status,"; ").concat(e.statusText))}))},H=(n(54),function(e){var t=Object(a.useState)([]),n=Object(r.a)(t,2),c=n[0],s=n[1],i=Object(a.useState)(""),o=Object(r.a)(i,2),l=o[0],d=o[1],j=Object(a.useState)(""),u=Object(r.a)(j,2),m=u[0],h=u[1],f=e.refreshTable,p=e.showProfileModal,x=e.showUpdateModal,g=e.showDeleteModal;return Object(a.useEffect)((function(){d(""),U((function(e){if(e){var t=e.reverse().map((function(e){return Object(b.jsx)(L,{person:e,showProfileModal:p,showUpdateModal:x,showDeleteModal:g},e.id)}));s(t)}}),(function(e){d("FETCH PEOPLE -- Error ".concat(e,"; please try again later.")),h("danger")}))}),[f,p,x,g]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(O,{message:l,variant:m}),Object(b.jsx)(S.a,{children:Object(b.jsx)(P.a,{children:Object(b.jsxs)(B.a,{striped:!0,id:"people-table",children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{id:"id-col",children:"ID"}),Object(b.jsx)("th",{id:"firstname-col",children:"First Name"}),Object(b.jsx)("th",{id:"lastname-col",children:"Last Name"}),Object(b.jsx)("th",{id:"email-col",children:"Email"}),Object(b.jsx)("th",{id:"actions-col",children:"Actions"})]})}),Object(b.jsx)("tbody",{id:"people-table-body",children:c})]})})})]})}),V=(n(55),n(56),function(){var e=Object(a.useReducer)((function(e){return e+1}),0),t=Object(r.a)(e,2)[1],n=function(){t()},c=Object(a.useState)([]),s=Object(r.a)(c,2),i=s[0],d=s[1],h=Object(a.useState)(""),f=Object(r.a)(h,2),p=f[0],x=f[1],y=Object(a.useState)(""),E=Object(r.a)(y,2),C=E[0],T=E[1],P=Object(a.useState)(!1),S=Object(r.a)(P,2),F=S[0],M=S[1],B=function(e){T("danger"),x("READ PROFILE -- Error ".concat(e,"; please try again later."))},I=function(e){T("warning"),x("READ PROFILE -- ".concat(e,"."))},k=function(e){d(e),M(!0)},R=Object(a.useState)(!1),L=Object(r.a)(R,2),U=L[0],V=L[1],J=function(e){x(""),d(e),V(!0)},Z=function(e){T("danger"),x("UPDATE PERSON -- Error ".concat(e,"; please try again later."))},q=function(e){T("warning"),x("UPDATE PERSON -- ".concat(e,"."))},G=function(){n()},$=Object(a.useState)(!1),_=Object(r.a)($,2),z=_[0],K=_[1],Q=function(e){x(""),d(e),K(!0)},W=function(e){T("danger"),x("DELETE PERSON -- Error ".concat(e,"; please try again later."))},X=function(e){T("warning"),x("DELETE PERSON -- ".concat(e,"."))},Y=function(){n()};return Object(b.jsxs)("div",{className:"App",children:[Object(b.jsxs)(o.a,{fluid:!0,className:"content",children:[Object(b.jsx)(N,{}),Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)(A,{refreshTable:n,setAlertMsg:x,setAlertMsgVariant:T}),Object(b.jsx)(O,{message:p,variant:C}),Object(b.jsx)(H,{refreshTable:n,showProfileModal:function(e){x(""),j(e.id,k,I,B)},showUpdateModal:J,showDeleteModal:Q})]}),Object(b.jsx)(g,{person:i,show:F,onCancel:function(){M(!1)}}),Object(b.jsx)(v,{person:i,show:U,showUpdateModal:J,onCancel:function(){V(!1)},onSubmit:function(e){var t=document.getElementById("update-first-name").value,n=document.getElementById("update-last-name").value,a=document.getElementById("update-email").value;if(!l(t,n,a))return!1;V(!1),u(t,n,a,e,G,q,Z)}}),Object(b.jsx)(w,{person:i,show:z,showDeleteModal:Q,onCancel:function(){K(!1)},onSubmit:function(e){K(!1),m(e,Y,X,W)}})]}),Object(b.jsx)(D,{})]})}),J=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,63)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),s(e),i(e)}))};i.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(V,{})}),document.getElementById("root")),J()}},[[57,1,2]]]);
//# sourceMappingURL=main.1831e259.chunk.js.map