(this["webpackJsonpreact-2-crud"]=this["webpackJsonpreact-2-crud"]||[]).push([[0],{39:function(e,t,n){},43:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),s=n(15),r=n.n(s),i=(n(39),n(8)),o=n(32),l="https://www.mecallapi.com/users/cat.png",j=function(e,t,n,a){fetch("https://www.mecallapi.com/api/users/"+"".concat(e)).then((function(e){if(!e.ok)throw e;return e.json()})).then((function(e){"error"===e.status&&n("".concat(e.message)),t(e.user)})).catch((function(e){a("".concat(e.status,"; ").concat(e.statusText))}))},d=function(e,t,n,a){var c={id:e},s={method:"DELETE",body:JSON.stringify(c),headers:{"Content-Type":"application/json"}};fetch("https://www.mecallapi.com/api/users/delete",s).then((function(e){if(!e.ok)throw e;return e.json()})).then((function(e){"error"===e.status&&n("".concat(e.message)),t()})).catch((function(e){a("".concat(e.status,"; ").concat(e.statusText))}))},u=n(33),h=n(1),m=function(e){return Object(h.jsx)(h.Fragment,{children:e.message&&Object(h.jsx)(u.a,{variant:e.variant,children:e.message})})},b=n(30),f=n(9),O=n(7),p=(n(28),n(43),function(e){return Object(h.jsxs)(O.a,{show:e.show,onHide:e.onHide,animation:!1,children:[Object(h.jsx)(O.a.Header,{closeButton:!0,closeLabel:"",children:Object(h.jsx)(O.a.Title,{children:"Profile"})}),Object(h.jsxs)(O.a.Body,{children:[Object(h.jsxs)(b.a,{className:"id-badge",children:[" ID: ",e.person.id," "]}),Object(h.jsx)("img",{src:e.person.avatar,className:"profile-image",alt:"Profile"}),Object(h.jsxs)("div",{className:"text-center person-details",children:[Object(h.jsxs)("p",{className:"person-name",children:[e.person.fname," ",e.person.lname]}),Object(h.jsx)("p",{children:e.person.username})]})]}),Object(h.jsx)(O.a.Footer,{children:Object(h.jsx)(f.a,{variant:"primary",onClick:e.onHide,children:"Close"})})]})}),x=function(e,t,n,a,c,s){var r={fname:e,lname:t,username:n,email:n,avatar:l},i={method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}};fetch("https://www.mecallapi.com/api/users/create",i).then((function(e){if(!e.ok)throw e;return e.json()})).then((function(e){"error"===e.status&&c("".concat(e.message)),a()})).catch((function(e){s("".concat(e.status,"; ").concat(e.statusText))}))},g=function(e,t,n,a,c,s,r){var i={id:a,fname:e,lname:t,username:n,email:n,avatar:l},o={method:"PUT",body:JSON.stringify(i),headers:{"Content-Type":"application/json"}};fetch("https://www.mecallapi.com/api/users/update",o).then((function(e){if(!e.ok)throw e;return e.json()})).then((function(e){"error"===e.status&&s("".concat(e.message)),c()})).catch((function(e){r("".concat(e.status,"; ").concat(e.statusText))}))},w=(n(45),function(e){var t=Object(a.useState)({}),n=Object(i.a)(t,2),c=n[0],s=n[1],r=function(e){return e&&e.length>0?"invalid-input":""},o=function(t){e.setAlertMsgVariant("danger"),e.setAlertMsg("".concat(e.type," -- Error ").concat(t,"; please try again later"))},l=function(t){e.setAlertMsgVariant("warning"),e.setAlertMsg("".concat(e.type," -- ").concat(t))};return Object(h.jsxs)(O.a,{show:e.show,onHide:e.onHide,animation:!1,children:[Object(h.jsx)(O.a.Header,{closeButton:!0,closeLabel:"",children:Object(h.jsx)(O.a.Title,{children:e.title})}),Object(h.jsx)(O.a.Body,{children:Object(h.jsxs)("form",{id:"person-info-form",children:[Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{htmlFor:"form-first-name",className:"form-label",children:"First Name"}),Object(h.jsx)("input",{type:"text",className:"form-control ".concat(r(c.firstName)),id:"form-first-name",defaultValue:e.defaults.fname}),c.firstName&&Object(h.jsx)("p",{className:"error-msg",children:c.firstName})]}),Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{htmlFor:"form-last-name",className:"form-label",children:"Last name"}),Object(h.jsx)("input",{type:"text",className:"form-control ".concat(r(c.lastName)),id:"form-last-name",defaultValue:e.defaults.lname}),c.lastName&&Object(h.jsx)("p",{className:"error-msg",children:c.lastName})]}),Object(h.jsxs)("div",{className:"mb-3",children:[Object(h.jsx)("label",{htmlFor:"form-email",className:"form-label",children:"Email address"}),Object(h.jsx)("input",{type:"email",className:"form-control ".concat(r(c.email)),id:"form-email",defaultValue:e.defaults.email}),c.email&&Object(h.jsx)("p",{className:"error-msg",children:c.email})]})]})}),Object(h.jsxs)(O.a.Footer,{children:[Object(h.jsx)(f.a,{variant:"secondary",onClick:e.onHide,children:"Cancel"}),Object(h.jsx)(f.a,{variant:"primary",type:"submit",form:"person-info-form",onClick:function(t){t.preventDefault();var n=t.target.form[0].value.trim(),a=t.target.form[1].value.trim(),c=t.target.form[2].value.trim(),r=function(e,t,n){var a={};return""===e&&(a.firstName="First name is required."),""===t&&(a.lastName="Last name is required"),""===n&&(a.email="Email address is required"),""===n||/^[A-Z0-9._%+-]+@([A-Z0-9-]+\.)+[A-Z]{2,20}$/i.test(n)||(a.email="Enter a valid email address"),a}(n,a,c);s(r),0===Object.keys(r).length&&(e.onHide(),"UPDATE PROFILE"===e.type?g(n,a,c,e.id,e.refreshTable,l,o):"ADD PERSON"===e.type&&x(n,a,c,e.refreshTable,l,o))},children:e.submitBtnLabel})]})]})}),v=(n(46),function(e){return Object(h.jsxs)(O.a,{show:e.show,onHide:e.onHide,animation:!1,children:[Object(h.jsx)(O.a.Header,{closeButton:!0,closeLabel:"",children:Object(h.jsx)(O.a.Title,{children:"Delete person"})}),Object(h.jsx)(O.a.Body,{children:Object(h.jsxs)("p",{children:["Confirm that you want to delete ",e.person.fname," ",e.person.lname,". "]})}),Object(h.jsxs)(O.a.Footer,{children:[Object(h.jsx)(f.a,{variant:"secondary",onClick:e.onHide,children:"Cancel"}),Object(h.jsx)(f.a,{variant:"primary",onClick:function(){e.onSubmit(e.person.id)},children:"Delete person"})]})]})}),N=n.p+"static/media/surprised-chipmunk.2ceca5f5.png",y=(n(47),function(){return Object(h.jsx)("header",{children:Object(h.jsx)("div",{className:"row",children:Object(h.jsx)("div",{className:"col-12",children:Object(h.jsxs)("div",{className:"header-content",children:[Object(h.jsx)("img",{id:"title-icon",src:N,alt:"App icon"}),Object(h.jsx)("span",{id:"title",children:"React 2 CRUD"})]})})})})}),E=(n(48),n(49),n(58)),T=function(){return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"api-warnings",children:[Object(h.jsxs)("div",{className:"title-row",children:[Object(h.jsx)("div",{className:"warning-icon-container",children:Object(h.jsx)(E.a,{className:"warning-icon"})}),Object(h.jsx)("span",{className:"warning-title",children:"The mecallapi.com third-party API service:"})]}),Object(h.jsxs)("ul",{children:[Object(h.jsx)("li",{children:"Does not allow you to delete or update the first ten people."}),Object(h.jsx)("li",{children:"Resets the people list every ten minutes."}),Object(h.jsx)("li",{children:"Does not provide a token; all users share data."}),Object(h.jsx)("li",{children:"Does not ensure unique IDs."})]})]})})},A=(n(50),function(){return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("div",{className:"copyright",children:"Copyright 2021, React 2 CRUD, Inc., All Rights Reserved."})})}),D=function(){return Object(h.jsxs)("div",{className:"footer",children:[Object(h.jsx)(T,{}),Object(h.jsx)(A,{})]})},M=n(24),C=n(23),P=(n(51),function(e){var t=Object(a.useState)(!1),n=Object(i.a)(t,2),c=n[0],s=n[1];return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(C.a,{id:"people-header-row",children:Object(h.jsxs)(M.a,{children:[Object(h.jsx)("div",{className:"content-title",children:"People"}),Object(h.jsx)(f.a,{variant:"primary",id:"add-btn",onClick:function(){e.setAlertMsg(""),s(!0)},children:"Add a person"})]})}),Object(h.jsx)(w,{show:c,type:"ADD PERSON",onHide:function(){s(!1)},id:null,title:"Add a person",submitBtnLabel:"Add person",defaults:{fname:"",lname:"",email:""},refreshTable:e.refreshTable,setAlertMsgVariant:e.setAlertMsgVariant,setAlertMsg:e.setAlertMsg})]})}),F=n(31),S=n(59),k=n(60),L=n(61),H=(n(52),function(e){var t=e.person;return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:t.id}),Object(h.jsx)("td",{children:t.fname}),Object(h.jsx)("td",{children:t.lname}),Object(h.jsx)("td",{children:t.username}),Object(h.jsxs)("td",{children:[Object(h.jsxs)(f.a,{variant:"primary",className:"action-btn",title:"Display profile",onClick:function(){e.showProfileModal(t)},children:[Object(h.jsx)(S.a,{}),"         "]}),Object(h.jsx)(f.a,{variant:"primary",className:"action-btn",title:"Update profile",onClick:function(){e.showUpdateModal(t)},children:Object(h.jsx)(k.a,{})}),Object(h.jsxs)(f.a,{variant:"danger",className:"action-btn",title:"Delete",onClick:function(){e.showDeleteModal(t)},children:[Object(h.jsx)(L.a,{}),"   "]})]})]})}),R=function(e,t){fetch("https://www.mecallapi.com/api/users",{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){if(!e.ok)throw e;return e.json()})).then((function(t){e(t)})).catch((function(e){t("".concat(e.status,"; ").concat(e.statusText))}))},U=(n(53),function(e){var t=Object(a.useState)([]),n=Object(i.a)(t,2),c=n[0],s=n[1],r=Object(a.useState)(""),o=Object(i.a)(r,2),l=o[0],j=o[1],d=Object(a.useState)(""),u=Object(i.a)(d,2),b=u[0],f=u[1],O=e.refreshTable,p=e.showProfileModal,x=e.showUpdateModal,g=e.showDeleteModal;return Object(a.useEffect)((function(){j(""),R((function(e){if(e){var t=e.reverse().map((function(e){return Object(h.jsx)(H,{person:e,showProfileModal:p,showUpdateModal:x,showDeleteModal:g},e.id)}));s(t)}}),(function(e){j("FETCH PEOPLE -- Error ".concat(e,"; please try again later.")),f("danger")}))}),[O,p,x,g]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(m,{message:l,variant:b}),Object(h.jsx)(C.a,{children:Object(h.jsx)(M.a,{children:Object(h.jsxs)(F.a,{striped:!0,id:"people-table",children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{id:"id-col",children:"ID"}),Object(h.jsx)("th",{id:"firstname-col",children:"First Name"}),Object(h.jsx)("th",{id:"lastname-col",children:"Last Name"}),Object(h.jsx)("th",{id:"email-col",children:"Email"}),Object(h.jsx)("th",{id:"actions-col",children:"Actions"})]})}),Object(h.jsx)("tbody",{id:"people-table-body",children:c})]})})})]})}),B=(n(54),n(55),function(){var e=Object(a.useReducer)((function(e){return e+1}),0),t=Object(i.a)(e,2)[1],n=Object(a.useState)([]),c=Object(i.a)(n,2),s=c[0],r=c[1],l=Object(a.useState)(""),u=Object(i.a)(l,2),b=u[0],f=u[1],O=Object(a.useState)(""),x=Object(i.a)(O,2),g=x[0],N=x[1],E=Object(a.useState)(!1),T=Object(i.a)(E,2),A=T[0],M=T[1],C=function(e){N("danger"),f("READ PROFILE -- Error ".concat(e,"; please try again later"))},F=function(e){N("warning"),f("READ PROFILE -- ".concat(e))},S=function(e){r(e),M(!0)},k=Object(a.useState)(!1),L=Object(i.a)(k,2),H=L[0],R=L[1],B=Object(a.useState)(!1),I=Object(i.a)(B,2),V=I[0],J=I[1],q=function(e){N("danger"),f("DELETE PERSON -- Error ".concat(e,"; please try again later"))},Z=function(e){N("warning"),f("DELETE PERSON -- ".concat(e))};return Object(h.jsxs)("div",{className:"App",children:[Object(h.jsxs)(o.a,{fluid:!0,className:"content",children:[Object(h.jsx)(y,{}),Object(h.jsxs)("div",{className:"container",children:[Object(h.jsx)(P,{refreshTable:t,setAlertMsg:f,setAlertMsgVariant:N}),Object(h.jsx)(m,{message:b,variant:g}),Object(h.jsx)(U,{refreshTable:t,showProfileModal:function(e){f(""),j(e.id,S,F,C)},showUpdateModal:function(e){f(""),r(e),R(!0)},showDeleteModal:function(e){f(""),r(e),J(!0)}})]}),Object(h.jsx)(p,{show:A,person:s,onHide:function(){M(!1)},refreshTable:t}),Object(h.jsx)(w,{show:H,type:"UPDATE PROFILE",title:"Update person",submitBtnLabel:"Update person",id:s.id,defaults:{fname:s.fname,lname:s.lname,email:s.username},onHide:function(){R(!1)},refreshTable:t,setAlertMsgVariant:N,setAlertMsg:f}),Object(h.jsx)(v,{show:V,person:s,onHide:function(){J(!1)},refreshTable:t,onSubmit:function(e){J(!1),d(e,t,Z,q)}})]}),Object(h.jsx)(D,{})]})}),I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,62)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),s(e),r(e)}))};r.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(B,{})}),document.getElementById("root")),I()}},[[56,1,2]]]);
//# sourceMappingURL=main.8a91fc27.chunk.js.map