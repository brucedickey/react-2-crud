(this["webpackJsonpreact-2-crud"]=this["webpackJsonpreact-2-crud"]||[]).push([[0],{24:function(e,t,n){},25:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),s=n(11),i=n.n(s),l=(n(24),n(10)),r=n(18),o=n(9),d=n.n(o),j=function(e,t,n){return""===e.trim()?(alert("Please enter your first name."),document.getElementById("add-first-name").focus(),!1):""===t.trim()?(alert("Please enter your last name."),document.getElementById("add-last-name").focus(),!1):""===n.trim()?(alert("Please enter your email address."),document.getElementById("add-email").focus(),!1):!(""!==n.trim()&&!/^[A-Z0-9._%+-]+@([A-Z0-9-]+\.)+[A-Z]{2,20}$/i.test(n))||(alert("Please enter a valid email address."),document.getElementById("add-email").focus(),!1)},m="https://www.mecallapi.com/users/cat.png",h=function(e,t){fetch("https://www.mecallapi.com/api/users/"+"".concat(e)).then((function(e){return e.json()})).then((function(e){"ok"===e.status?t(e.user):alert(e.message)}))},b=function(e,t,n,a,c){var s={id:a,fname:e,lname:t,username:n,email:n,avatar:m},i={method:"PUT",body:JSON.stringify(s),headers:{"Content-Type":"application/json"}};fetch("https://www.mecallapi.com/api/users/update",i).then((function(e){return e.json()})).then((function(e){"ok"===e.status?c():alert(e.message)}))},u=function(e,t){var n={id:e},a={method:"DELETE",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}};fetch("https://www.mecallapi.com/api/users/delete",a).then((function(e){return e.json()})).then((function(e){"ok"===e.status?t():alert(e.message)}))},f=n(16),O=n(8),p=n(6),x=(n(12),n(25),n(1));var v=function(e){return Object(x.jsxs)(p.a,{show:e.show,onHide:e.onCancel,animation:!1,children:[Object(x.jsx)(p.a.Header,{closeButton:!0,closeLabel:"",children:Object(x.jsx)(p.a.Title,{children:"Profile"})}),Object(x.jsxs)(p.a.Body,{children:[Object(x.jsxs)(f.a,{className:"id-badge",children:[" ID: ",e.person.id," "]}),Object(x.jsx)("img",{src:e.person.avatar,className:"profile-image",alt:"Profile"}),Object(x.jsxs)("div",{className:"text-center person-details",children:[Object(x.jsxs)("p",{className:"person-name",children:[e.person.fname," ",e.person.lname]}),Object(x.jsx)("p",{children:e.person.username})]})]}),Object(x.jsx)(p.a.Footer,{children:Object(x.jsx)(O.a,{variant:"secondary",onClick:e.onCancel,children:"Close"})})]})};n(30);var w=function(e){return Object(x.jsxs)(p.a,{show:e.show,onHide:e.onCancel,animation:!1,children:[Object(x.jsx)(p.a.Header,{closeButton:!0,closeLabel:"",children:Object(x.jsx)(p.a.Title,{children:"Update person"})}),Object(x.jsx)(p.a.Body,{children:Object(x.jsxs)("form",{children:[Object(x.jsxs)("div",{className:"mb-3",children:[Object(x.jsx)("label",{htmlFor:"add-first-name",className:"form-label",children:"First Name"}),Object(x.jsx)("input",{type:"text",className:"form-control",id:"update-first-name",defaultValue:e.person.fname})]}),Object(x.jsxs)("div",{className:"mb-3",children:[Object(x.jsx)("label",{htmlFor:"add-last-name",className:"form-label",children:"Last name"}),Object(x.jsx)("input",{type:"text",className:"form-control",id:"update-last-name",defaultValue:e.person.lname})]}),Object(x.jsxs)("div",{className:"mb-3",children:[Object(x.jsx)("label",{htmlFor:"add-email",className:"form-label",children:"Email address"}),Object(x.jsx)("input",{type:"email",className:"form-control",id:"update-email",defaultValue:e.person.username})]})]})}),Object(x.jsxs)(p.a.Footer,{children:[Object(x.jsx)(O.a,{variant:"secondary",onClick:e.onCancel,children:"Cancel"}),Object(x.jsx)(O.a,{variant:"primary",onClick:function(){e.onSubmit(e.person.id)},children:"Update person"})]})]})};n(31);var y=function(e){return Object(x.jsxs)(p.a,{show:e.show,onHide:e.onCancel,animation:!1,children:[Object(x.jsx)(p.a.Header,{closeButton:!0,closeLabel:"",children:Object(x.jsx)(p.a.Title,{children:"Delete person"})}),Object(x.jsx)(p.a.Body,{children:Object(x.jsxs)("p",{children:["Confirm that you want to delete ",e.person.fname," ",e.person.lname,". "]})}),Object(x.jsxs)(p.a.Footer,{children:[Object(x.jsx)(O.a,{variant:"secondary",onClick:e.onCancel,children:"Cancel"}),Object(x.jsx)(O.a,{variant:"primary",onClick:function(){e.onSubmit(e.person.id)},children:"Delete person"})]})]})},N=n.p+"static/media/surprised-chipmunk.2ceca5f5.png";n(32);var C=function(){return Object(x.jsx)("header",{children:Object(x.jsx)("div",{className:"row",children:Object(x.jsx)("div",{className:"col-12",children:Object(x.jsxs)("div",{className:"header-content",children:[Object(x.jsx)("img",{id:"title-icon",src:N,alt:"App icon"}),Object(x.jsx)("span",{id:"title",children:"React 2 CRUD"})]})})})})},g=(n(33),n(34),n(44));var F=function(){return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("div",{className:"api-warnings",children:[Object(x.jsxs)("div",{className:"title-row",children:[Object(x.jsx)("div",{className:"warning-icon-container",children:Object(x.jsx)(g.a,{className:"warning-icon"})}),Object(x.jsx)("span",{className:"warning-title",children:"The mecallapi.com third-party API service:"})]}),Object(x.jsxs)("ul",{children:[Object(x.jsx)("li",{children:"Does not allow you to delete or update the first ten people."}),Object(x.jsx)("li",{children:"Resets the people list every ten minutes."}),Object(x.jsx)("li",{children:"Does not provide a token; all users share data."}),Object(x.jsx)("li",{children:"Does not ensure unique IDs."})]})]})})};n(35);var D=function(){return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("div",{className:"copyright",children:"Copyright 2021, React 2 CRUD, Inc., All Rights Reserved."})})};var k=function(){return Object(x.jsxs)("div",{className:"footer",children:[Object(x.jsx)(F,{}),Object(x.jsx)(D,{})]})},T=n(13),M=n(14),S=function(e,t,n,a){var c={fname:e,lname:t,username:n,email:n,avatar:m},s={method:"POST",body:JSON.stringify(c),headers:{"Content-Type":"application/json"}};fetch("https://www.mecallapi.com/api/users/create",s).then((function(e){return e.json()})).then((function(e){"ok"===e.status?a():alert(e.message)}))};n(36);var P=function(e){return Object(x.jsxs)(p.a,{show:e.show,onHide:e.onCancel,animation:!1,children:[Object(x.jsx)(p.a.Header,{closeButton:!0,closeLabel:"",children:Object(x.jsx)(p.a.Title,{children:"Add a person"})}),Object(x.jsx)(p.a.Body,{children:Object(x.jsxs)("form",{children:[Object(x.jsxs)("div",{className:"mb-3",children:[Object(x.jsx)("label",{htmlFor:"add-first-name",className:"form-label",children:"First Name"}),Object(x.jsx)("input",{type:"text",className:"form-control",id:"add-first-name"})]}),Object(x.jsxs)("div",{className:"mb-3",children:[Object(x.jsx)("label",{htmlFor:"add-last-name",className:"form-label",children:"Last name"}),Object(x.jsx)("input",{type:"text",className:"form-control",id:"add-last-name"})]}),Object(x.jsxs)("div",{className:"mb-3",children:[Object(x.jsx)("label",{htmlFor:"add-email",className:"form-label",children:"Email address"}),Object(x.jsx)("input",{type:"email",className:"form-control",id:"add-email"})]})]})}),Object(x.jsxs)(p.a.Footer,{children:[Object(x.jsx)(O.a,{variant:"secondary",onClick:e.onCancel,children:"Cancel"}),Object(x.jsx)(O.a,{variant:"primary",onClick:e.onSubmit,children:"Add person"})]})]})};n(37);var B=function(e){var t=Object(a.useState)(!1),n=Object(l.a)(t,2),c=n[0],s=n[1],i=function(){d()("#add-first-name").val(""),d()("#add-last-name").val(""),d()("#add-email").val(""),s(!1)},r=function(){e.refreshTable()};return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(T.a,{id:"people-header-row",children:Object(x.jsxs)(M.a,{children:[Object(x.jsx)("div",{className:"content-title",children:"People"}),Object(x.jsx)(O.a,{variant:"primary",id:"add-btn",onClick:function(){return s(!0)},children:"Add a person"})]})}),Object(x.jsx)(P,{show:c,onCancel:i,onSubmit:function(){var e=d()("#add-first-name").val(),t=d()("#add-last-name").val(),n=d()("#add-email").val();if(!j(e,t,n))return!1;i(),S(e,t,n,r)}})]})},E=n(17),U=n(45),A=n(46),I=n(47);n(38);var L=function(e){var t=e.person;return Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:t.id}),Object(x.jsx)("td",{children:t.fname}),Object(x.jsx)("td",{children:t.lname}),Object(x.jsx)("td",{children:t.username}),Object(x.jsxs)("td",{children:[Object(x.jsxs)(O.a,{variant:"primary",className:"action-btn",title:"Display profile",onClick:function(){e.showProfileModal(t)},children:[Object(x.jsx)(U.a,{}),"         "]}),Object(x.jsx)(O.a,{variant:"primary",className:"action-btn",title:"Update profile",onClick:function(){e.showUpdateModal(t)},children:Object(x.jsx)(A.a,{})}),Object(x.jsxs)(O.a,{variant:"danger",className:"action-btn",title:"Delete",onClick:function(){e.showDeleteModal(t)},children:[Object(x.jsx)(I.a,{}),"   "]})]})]})},H=function(e){fetch("https://www.mecallapi.com/api/users",{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){e(t)})).catch((function(e){alert(e)}))},R=(n(39),function(e){var t=Object(a.useState)([]),n=Object(l.a)(t,2),c=n[0],s=n[1];return Object(a.useEffect)((function(){H((function(t){if(t){var n=t.reverse().map((function(t){return Object(x.jsx)(L,{person:t,showProfileModal:e.showProfileModal,showUpdateModal:e.showUpdateModal,showDeleteModal:e.showDeleteModal},t.id)}));s(n)}}))}),[e.refreshTable,e.showProfileModal,e.showUpdateModal,e.showDeleteModal]),Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(T.a,{children:Object(x.jsx)(M.a,{children:Object(x.jsxs)(E.a,{striped:!0,id:"people-table",children:[Object(x.jsx)("thead",{children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{id:"id-col",children:"ID"}),Object(x.jsx)("th",{id:"firstname-col",children:"First Name"}),Object(x.jsx)("th",{id:"lastname-col",children:"Last Name"}),Object(x.jsx)("th",{id:"email-col",children:"Email"}),Object(x.jsx)("th",{id:"actions-col",children:"Actions"})]})}),Object(x.jsx)("tbody",{id:"people-table-body",children:c})]})})})})});n(40),n(41);var J=function(){var e=Object(a.useReducer)((function(e){return e+1}),0),t=Object(l.a)(e,2)[1],n=function(){t()},c=Object(a.useState)([]),s=Object(l.a)(c,2),i=s[0],o=s[1],m=Object(a.useState)(!1),f=Object(l.a)(m,2),O=f[0],p=f[1],N=function(e){o(e),p(!0)},g=Object(a.useState)(!1),F=Object(l.a)(g,2),D=F[0],T=F[1],M=function(e){o(e),T(!0)},S=function(){n()},P=Object(a.useState)(!1),E=Object(l.a)(P,2),U=E[0],A=E[1],I=function(e){o(e),A(!0)},L=function(){n()};return Object(x.jsxs)("div",{className:"App",children:[Object(x.jsxs)(r.a,{fluid:!0,className:"content",children:[Object(x.jsx)(C,{}),Object(x.jsxs)("div",{className:"container",children:[Object(x.jsx)(B,{refreshTable:n}),Object(x.jsx)(R,{refreshTable:n,showProfileModal:function(e){h(e.id,N)},showUpdateModal:M,showDeleteModal:I})]}),Object(x.jsx)(v,{person:i,show:O,onCancel:function(){p(!1)}}),Object(x.jsx)(w,{person:i,show:D,showUpdateModal:M,onCancel:function(){T(!1)},onSubmit:function(e){var t=d()("#update-first-name").val(),n=d()("#update-last-name").val(),a=d()("#update-email").val();if(!j(t,n,a))return!1;T(!1),b(t,n,a,e,S)}}),Object(x.jsx)(y,{person:i,show:U,showDeleteModal:I,onCancel:function(){A(!1)},onSubmit:function(e){A(!1),u(e,L)}})]}),Object(x.jsx)(k,{})]})},V=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,48)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),s(e),i(e)}))};i.a.render(Object(x.jsx)(c.a.StrictMode,{children:Object(x.jsx)(J,{})}),document.getElementById("root")),V()}},[[42,1,2]]]);
//# sourceMappingURL=main.d63bcf51.chunk.js.map